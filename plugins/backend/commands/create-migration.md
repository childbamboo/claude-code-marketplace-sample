---
description: データベースマイグレーションを作成
---

# データベースマイグレーション作成

データベーススキーマの変更を安全に行うためのマイグレーションファイルを作成します。

## マイグレーション情報

以下の情報を教えてください：

1. **変更内容**:
   - テーブル作成
   - カラム追加/削除/変更
   - インデックス追加
   - 制約追加/削除
   - データ移行

2. **対象テーブル**: 変更するテーブル名

3. **使用するORM/ツール**:
   - Prisma
   - TypeORM
   - Sequelize
   - Knex.js
   - Django ORM
   - SQLAlchemy
   - 生SQL

## 自動生成される内容

1. **マイグレーションファイル**
   - Up migration（適用）
   - Down migration（ロールバック）
   - タイムスタンプ付きファイル名

2. **スキーマ定義**
   - テーブル定義
   - カラム定義（型、制約、デフォルト値）
   - リレーション定義
   - インデックス定義

3. **バリデーション**
   - スキーマ整合性チェック
   - 外部キー制約の確認
   - データ型の検証

## ベストプラクティス

- トランザクション使用
- 冪等性の確保
- データ損失防止
- パフォーマンス考慮（大量データ処理）
- ロールバック手順の明確化

## データ移行サポート

既存データの移行が必要な場合：

- データ変換ロジック
- バッチ処理
- エラーハンドリング
- 進行状況ログ

どのようなマイグレーションを作成しますか？
